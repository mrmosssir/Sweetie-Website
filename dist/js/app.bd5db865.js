(function(t){function e(e){for(var s,o,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Sweetie-Website/dist/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=a("bc3a"),n=a.n(r),o=a("7bb1"),i=a("427f"),c=a.n(i),l=a("a925"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},d=[],p={name:"App"},m=p,h=(a("5c0b"),a("2877")),f=Object(h["a"])(m,u,d,!1,null,null,null),v=f.exports,C=a("8c4f"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"open-mobile"},[a("h1",{staticClass:"h2"},[t._v("非常抱歉 系統尚未開放")]),a("p",[t._v("目前管理系統未提供手機螢幕使用")]),a("p",[t._v("不便之處敬請見諒")]),a("button",{staticClass:"btn btn-brown",on:{click:function(e){return e.preventDefault(),t.returnHome(e)}}},[t._v(" 返回首頁 ")])]),a("div",{staticClass:"row close-on-mobile",class:{"loading-target":t.returnLoading}},[t.returnLoading?a("Loading"):t._e(),a("div",{staticClass:"col-md-2"},[a("SideBar")],1),a("div",{staticClass:"col-md-10"},[a("TopBar"),a("router-view")],1)],1)])},g=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"sidebar d-md-block col-md-2"},[a("div",{staticClass:"sidebar-sticky"},[a("router-link",{attrs:{to:"/"}},[a("h1",{staticClass:"great_vibes-style text-center text-brown-light py-4 mb-0"},[t._v(" Afernoon ")])]),a("hr",{staticClass:"sidebar-line my-0 mx-3"}),a("small",{staticClass:"d-block mt-5 ml-3 text-brown-light"},[t._v("功能列表")]),a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item",on:{click:function(e){return e.preventDefault(),t.changeSearchMode("product")}}},[a("router-link",{staticClass:"nav-link text-brown-light",attrs:{to:"/admin"}},[t._v(" 商品列表管理 ")])],1),a("li",{staticClass:"nav-item",on:{click:function(e){return e.preventDefault(),t.changeSearchMode("order")}}},[a("router-link",{staticClass:"nav-link text-brown-light",attrs:{to:"/admin/orders"}},[t._v(" 訂單列表管理 ")])],1),a("li",{staticClass:"nav-item",on:{click:function(e){return e.preventDefault(),t.changeSearchMode("coupon")}}},[a("router-link",{staticClass:"nav-link text-brown-light",attrs:{to:"/admin/coupons"}},[t._v(" 優惠券管理 ")])],1)])],1)])])},x=[],P={name:"SideBar",methods:{changeSearchMode:function(t){this.$store.dispatch("changeSearchMode",t)}}},w=P,O=Object(h["a"])(w,b,x,!1,null,null,null),y=O.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContent,expression:"searchContent"}],staticClass:"px-3 text-brown d-block rounded-pill\n                          border border-brown w-100 mx-3 input-search",attrs:{type:"text"},domProps:{value:t.searchContent},on:{input:function(e){e.target.composing||(t.searchContent=e.target.value)}}}),a("button",{staticClass:"d-block btn btn-brown btn-search rounded-circle",on:{click:function(e){return e.preventDefault(),t.search(e)}}},[a("i",{staticClass:"fas fa-search text-white"})])]),a("div",{staticClass:"col-md-3 text-center"},[a("button",{staticClass:"d-block btn btn-secondary w-100 rounded-pill",on:{click:function(e){return e.preventDefault(),t.logout()}}},[t._v("登出管理系統 ")])])])])},A=[],D={name:"Topbar",methods:{logout:function(){var t="".concat("https://vue-course-api.hexschool.io","/logout"),e=this;this.$http.post(t).then((function(t){t.data.success&&e.$router.push("/sign")}))},search:function(){this.$store.dispatch("search")}},computed:{searchContent:{get:function(){return this.$store.state.admin.searchContent},set:function(t){this.$store.commit("ADMIN_SEARCHCONTENT",t)}}}},N=D,T=Object(h["a"])(N,E,A,!1,null,null,null),$=T.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading"},[a("div",{staticClass:"double-bounce1"}),a("div",{staticClass:"double-bounce2"})])}],R={},S=Object(h["a"])(R,I,k,!1,null,null,null),L=S.exports,M={name:"Admin",components:{SideBar:y,TopBar:$,Loading:L},methods:{returnHome:function(){this.$router.push("/")}},computed:{returnLoading:function(){return this.$store.state.loadingStatus}},created:function(){this.$store.dispatch("checkLogin")}},U=M,G=Object(h["a"])(U,_,g,!1,null,null,null),j=G.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"height-100vh d-flex justify-content-center align-items-center text-center"},[t.returnError?a("div",{staticClass:"error-alert"},[t._v(" "+t._s(t.returnErrorMessage)+" ")]):t._e(),a("form",{staticClass:"login-width",on:{submit:function(e){return e.preventDefault(),t.checkUser()}}},[a("p",{staticClass:"h1 text-brown font-weight-bold great_vibes-style m-0"},[t._v("Afternoon Sweetie")]),a("h1",{staticClass:"h3 my-4 font-weight-normal text-brown"},[t._v("管理系統登入")]),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.returnUsername,expression:"returnUsername"}],staticClass:"form-control mt-3",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.returnUsername},on:{input:function(e){e.target.composing||(t.returnUsername=e.target.value)}}}),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.returnPassword,expression:"returnPassword"}],staticClass:"form-control mt-3",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.returnPassword},on:{input:function(e){e.target.composing||(t.returnPassword=e.target.value)}}}),a("button",{staticClass:"btn btn-lg btn-brown btn-block mt-5",attrs:{type:"submit"}},[t._v("登入")]),a("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2017-2019")])])])},F=[],W={name:"Login",methods:{checkUser:function(){this.$store.dispatch("checkUser",{username:this.returnUsername,password:this.returnPassword})}},computed:{returnUsername:{get:function(){return this.$store.state.user.username},set:function(t){this.$store.commit("USERNAME",t)}},returnPassword:{get:function(){return this.$store.state.user.password},set:function(t){this.$store.commit("PASSWORD",t)}},returnError:function(){return this.$store.state.error},returnErrorMessage:function(){return this.$store.state.errorMessage}}},B=W,H=Object(h["a"])(B,q,F,!1,null,null,null),Z=H.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.returnLoading?t._e():a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"row"},[t._m(1),a("div",{staticClass:"col-md-2 text-right"},[a("button",{staticClass:"btn btn-brown",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.openModal()}}},[t._v(" 新增產品 ")])])]),a("table",{staticClass:"table table-borderless mt-4 bg-white border border-brown border-bottom-0"},[t._m(2),a("tbody",{staticClass:"text-secondary"},t._l(t.returnProducts,(function(e){return a("tr",{key:e.id,staticClass:"border border-brown border-bottom"},[a("th",{staticClass:"text-center pt-3",attrs:{scope:"row"}},[t._v(t._s(e.num))]),a("td",{staticClass:"text-center pt-3"},[t._v(t._s(e.category))]),a("td",{staticClass:"text-center pt-3"},[t._v(t._s(e.title))]),a("td",{staticClass:"text-right pt-3"},[t._v(t._s(e.origin_price)+"$")]),a("td",{staticClass:"text-right pt-3"},[t._v(t._s(e.price)+"$")]),e.is_enabled?a("td",{staticClass:"text-center pt-3"},[t._v("已啟用")]):t._e(),e.is_enabled?t._e():a("td",{staticClass:"text-center pt-3"},[t._v("未啟用")]),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-sm btn-outline-brown rounded",on:{click:function(a){return t.openModal(!1,e)}}},[t._v(" 編輯 ")])])])})),0)]),a("nav",{staticClass:"d-flex justify-content-center mt-5"},[a("ul",{staticClass:"pagination"},t._l(t.returnPage,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.returnCurrentPage==e},on:{click:function(a){return a.preventDefault(),t.getProducts(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(" "+t._s(e)+" ")])])})),0)]),a("div",{staticClass:"modal fade",attrs:{id:"createModal",tabindex:"-1",role:"dialog","aria-labelledby":"createModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.imageUrl,expression:"product.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.product.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.product,"imageUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 "),t.returnUpdateStatus?a("i",{staticClass:"fas fa-spinner fa-spin text-brown"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:function(e){return t.uploadFile()}}})]),a("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.product.imageUrl}})]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.title,expression:"product.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.product.title},on:{input:function(e){e.target.composing||t.$set(t.product,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.category,expression:"product.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.product.category},on:{input:function(e){e.target.composing||t.$set(t.product,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.unit,expression:"product.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.product.unit},on:{input:function(e){e.target.composing||t.$set(t.product,"unit",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.origin_price,expression:"product.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.product.origin_price},on:{input:function(e){e.target.composing||t.$set(t.product,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.content,expression:"product.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.product.content},on:{input:function(e){e.target.composing||t.$set(t.product,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.is_enabled,expression:"product.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled"},domProps:{checked:Array.isArray(t.product.is_enabled)?t._i(t.product.is_enabled,null)>-1:t.product.is_enabled},on:{change:function(e){var a=t.product.is_enabled,s=e.target,r=!!s.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);s.checked?o<0&&t.$set(t.product,"is_enabled",a.concat([n])):o>-1&&t.$set(t.product,"is_enabled",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.product,"is_enabled",r)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 啟用 ")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-brown",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.submitProduct(e)}}},[t._v(" 送出 ")]),t.returnIsNew?t._e():a("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.deleteProduct()}}},[t._v(" 刪除 ")])])])])])])},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb bg-transparent px-0"},[a("li",{staticClass:"breadcrumb-item text-secondary"},[a("small",[t._v("後台管理系統")])]),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"adminOrders"}},[a("a",{attrs:{href:"#"}},[a("small",[t._v("商品列表管理")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-10"},[a("h2",{staticClass:"text-brown"},[t._v("商品列表管理")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"bg-brown text-white text-center"},[a("th",{attrs:{width:"100px",scope:"col"}},[t._v("編號")]),a("th",{attrs:{width:"150px",scope:"col"}},[t._v("產品類別")]),a("th",{attrs:{scope:"col"}},[t._v("產品名稱")]),a("th",{attrs:{width:"150px",scope:"col"}},[t._v("產品原價")]),a("th",{attrs:{width:"150px",scope:"col"}},[t._v("產品售價")]),a("th",{attrs:{width:"100px",scope:"col"}},[t._v("是否啟用")]),a("th",{attrs:{width:"150px",scope:"col"}},[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-brown text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"createModalLabel"}},[t._v("新增產品")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Y={name:"Products",data:function(){return{product:{}}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("adminGetProducts",t),this.$store.dispatch("changeSearchMode","product")},submitProduct:function(){this.$store.dispatch("adminSubmitProduct",this.product)},deleteProduct:function(){this.$store.dispatch("adminDeleteProduct",this.product.id)},uploadFile:function(){this.$store.dispatch("adminProductUploadFile",this.$refs.files.files[0])},openModal:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;this.$store.dispatch("adminProductOpenModal",{isNew:t,item:e}),this.product=this.returnProduct}},computed:{returnProducts:function(){return this.$store.state.admin.products},returnProduct:function(){return this.$store.state.admin.product},returnIsNew:function(){return this.$store.state.admin.productIsNew},returnPage:function(){return this.$store.state.admin.productSearchPage},returnCurrentPage:function(){return this.$store.state.admin.productCurrentPage},returnLoading:function(){return this.$store.state.loadingStatus},returnUpdateStatus:function(){return this.$store.state.updateStatus}},created:function(){this.getProducts()}},Q=Y,V=Object(h["a"])(Q,J,z,!1,null,null,null),K=V.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.returnLoading?t._e():a("div",{staticClass:"container"},[t._m(0),a("h2",{staticClass:"text-brown"},[t._v("訂單列表管理")]),a("table",{staticClass:"table table-borderless mt-4 bg-white border border-brown border-bottom-0"},[t._m(1),a("tbody",{staticClass:"text-secondary"},t._l(t.returnOrders,(function(e){return a("tr",{key:e.id,staticClass:"border-bottom border-brown"},[a("td",{staticClass:"text-center"},[t._v(t._s(e.create_at))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.user.email))]),a("td",{staticClass:"text-center"},[a("ul",{staticClass:"mb-0"},t._l(e.products,(function(e){return a("li",{key:e.id},[t._v(" "+t._s(e.product.title)+" 數量："+t._s(e.qty)+" "+t._s(e.product.unit)+" ")])})),0)]),a("td",{staticClass:"text-right"},[t._v(t._s(e.total)+" $")]),e.is_paid?a("td",{staticClass:"text-center text-success"},[t._v("已付款")]):t._e(),e.is_paid?t._e():a("td",{staticClass:"text-center text-secondary"},[t._v("未付款")])])})),0)]),a("nav",{staticClass:"d-flex justify-content-center mt-5"},[a("ul",{staticClass:"pagination"},t._l(t.returnPage,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.returnCurrentPage==e},on:{click:function(a){return a.preventDefault(),t.getOrders(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(t._s(e))])])})),0)])])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb bg-transparent px-0"},[a("li",{staticClass:"breadcrumb-item text-secondary"},[a("small",[t._v("後台管理系統")])]),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"adminOrders"}},[a("a",{attrs:{href:"#"}},[a("small",[t._v("訂單列表管理")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"bg-brown text-white text-center"},[a("th",{attrs:{width:"200px",scope:"col"}},[t._v("購買日期")]),a("th",{attrs:{scope:"col"}},[t._v("Email")]),a("th",{attrs:{scope:"col"}},[t._v("購買項目")]),a("th",{attrs:{width:"150px",scope:"col"}},[t._v("應付金額")]),a("th",{attrs:{width:"100px",scope:"col"}},[t._v("是否付款")])])])}],et=(a("99af"),a("4160"),a("0d03"),a("a9e3"),a("159b"),{name:"Orders",methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("adminGetOrders",t),this.$store.dispatch("changeSearchMode","order")},dateTransfer:function(t,e){var a=new Date(1e3*e),s="".concat(a.getFullYear(),"/").concat(this.addZero(a.getMonth()),"/").concat(this.addZero(a.getDate())," \n      ").concat(this.addZero(a.getHours()),":").concat(this.addZero(a.getMinutes()),":").concat(this.addZero(a.getSeconds()));return this.$set(t,"create_at",s),t},addZero:function(t){return Number(t)<10?"0".concat(t):t}},computed:{returnOrders:function(){var t=this,e=[];return this.$store.state.admin.orders.forEach((function(a){t.dateTransfer(a,a.create_at),e.push(a)})),e},returnPage:function(){return this.$store.state.admin.orderSearchPage},returnCurrentPage:function(){return this.$store.state.admin.orderCurrentPage},returnLoading:function(){return this.$store.state.loadingStatus}},created:function(){this.getOrders()}}),at=et,st=Object(h["a"])(at,X,tt,!1,null,null,null),rt=st.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.returnLoading?t._e():a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"row"},[t._m(1),a("div",{staticClass:"col-md-2 text-right"},[a("button",{staticClass:"btn btn-brown",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.openModal(!0)}}},[t._v(" 新增優惠券 ")])])]),a("div",{staticClass:"row"},t._l(t.returnCoupons,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 mt-4"},[a("div",{staticClass:"justify-content-start align-items-center bg-white border rounded p-3"},[a("h3",{staticClass:"m-0 text-overhidden"},[t._v(t._s(e.title))]),a("p",{staticClass:"m-0 text-secondary"},[t._v("到期日："+t._s(t.dateTransfer(e.dueDate)))]),a("button",{staticClass:"btn btn-brown d-block w-100 mt-4",on:{click:function(a){return a.preventDefault(),t.openModal(!1,e)}}},[t._v(" 編輯 ")])])])})),0),a("nav",{staticClass:"d-flex justify-content-center mt-5"},[a("ul",{staticClass:"pagination"},t._l(t.returnPage,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.returnCurrentPage==e},on:{click:function(a){return a.preventDefault(),t.getCoupons(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(t._s(e))])])})),0)]),a("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"couponModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("優惠券標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.returnCoupon.title,expression:"returnCoupon.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.returnCoupon.title},on:{input:function(e){e.target.composing||t.$set(t.returnCoupon,"title",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("優惠券代碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.returnCoupon.code,expression:"returnCoupon.code"}],staticClass:"form-control",attrs:{type:"text",onKeyUp:"value=value.replace(/[\\W]/g,'')"},domProps:{value:t.returnCoupon.code},on:{input:function(e){e.target.composing||t.$set(t.returnCoupon,"code",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("折扣百分比")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.returnCoupon.percent,expression:"returnCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",max:"100",min:"0",step:"5"},domProps:{value:t.returnCoupon.percent},on:{click:function(t){t.preventDefault()},input:function(e){e.target.composing||t.$set(t.returnCoupon,"percent",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("到期日")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.returnCoupon.dueDate,expression:"returnCoupon.dueDate"}],staticClass:"form-control",attrs:{type:"datetime-local"},domProps:{value:t.returnCoupon.dueDate},on:{input:function(e){e.target.composing||t.$set(t.returnCoupon,"dueDate",e.target.value)}}})]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.returnCoupon.is_enabled,expression:"returnCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled"},domProps:{checked:Array.isArray(t.returnCoupon.is_enabled)?t._i(t.returnCoupon.is_enabled,null)>-1:t.returnCoupon.is_enabled},on:{change:function(e){var a=t.returnCoupon.is_enabled,s=e.target,r=!!s.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);s.checked?o<0&&t.$set(t.returnCoupon,"is_enabled",a.concat([n])):o>-1&&t.$set(t.returnCoupon,"is_enabled",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.returnCoupon,"is_enabled",r)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 啟用 ")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-brown",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.submitCoupon()}}},[t._v(" 送出 ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.deleteCoupon()}}},[t._v(" 刪除 ")])])])])])])},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb bg-transparent px-0"},[a("li",{staticClass:"breadcrumb-item text-secondary"},[a("small",[t._v("後台管理系統")])]),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"adminCoupons"}},[a("a",{attrs:{href:"#"}},[a("small",[t._v("優惠券管理")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-10"},[a("h2",{staticClass:"text-brown"},[t._v("優惠券管理")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-brown text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"couponModalLabel"}},[t._v("新增優惠券")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],it={name:"Coupons",methods:{getCoupons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("adminGetCoupons",t),this.$store.dispatch("changeSearchMode","coupon")},submitCoupon:function(){this.$store.dispatch("adminSubmitCoupon",this.coupon.id)},deleteCoupon:function(){this.$store.dispatch("adminDeleteCoupon",this.coupon.id)},openModal:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;this.$store.dispatch("adminCouponOpenModal",{isNew:t,item:e}),this.coupon=this.returnCoupon},dateTransfer:function(t){var e=new Date(t);return"".concat(e.getFullYear(),"-").concat(this.addZero(e.getMonth()+1),"-").concat(this.addZero(e.getDate())," ").concat(this.addZero(e.getHours()),":").concat(this.addZero(e.getMinutes()))},addZero:function(t){return t<10?"0".concat(t):t}},computed:{returnCoupons:function(){return this.$store.state.admin.coupons},returnCoupon:function(){return this.$store.state.admin.coupon},returnIsNew:function(){return this.$store.state.admin.couponIsNew},returnPage:function(){return this.$store.state.admin.couponSearchPage},returnCurrentPage:function(){return this.$store.state.admin.couponCurrentPage},returnLoading:function(){return this.$store.state.loadingStatus}},created:function(){this.getCoupons()}},ct=it,lt=Object(h["a"])(ct,nt,ot,!1,null,null,null),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.returnError?a("div",{staticClass:"error-alert"},[t._v(" "+t._s(t.returnErrorMessage)+" ")]):t._e(),t.returnLoading?a("Loading"):t._e(),a("div",{staticClass:"container"},[a("header",[a("Menu")],1),a("router-view")],1),t._m(0)],1)},pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"bg-gray p-5 text-center text-white mt-5"},[a("h2",{staticClass:"h1 great_vibes-style"},[t._v(" Afternoon Sweetie ")]),a("ul",{staticClass:"d-flex justify-content-center p-0 my-5"},[a("li",{staticClass:"mx-3"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fab fa-facebook-square text-white h3"})])]),a("li",{staticClass:"mx-3"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fab fa-github text-white h3"})])]),a("li",{staticClass:"mx-3"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fab fa-instagram text-white h3"})])]),a("li",{staticClass:"mx-3"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fab fa-twitter-square text-white h3"})])])]),a("p",[t._v("Copyright © 2019 SuTo Creative Collective.")])])}],mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-5"},[a("router-link",{staticClass:"navbar-home-mobile text-center",attrs:{to:"/"}},[a("h1",{staticClass:"font-weight-bold great_vibes-style m-0"},[t._v("Afternoon Sweetie")])]),a("button",{staticClass:"btn btn-outline-brown navbar-select",on:{click:function(e){return e.preventDefault(),t.openMenu(e)}}},[t._v(" 現在想去哪 ? ．．．↓ ")]),a("div",{staticClass:"navbar-frame"},[a("router-link",{staticClass:"navbar-link text-secondary mx-3",attrs:{to:"/news"}},[t._v(" 最新消息 ")]),a("router-link",{staticClass:"navbar-link text-secondary mx-3",attrs:{to:"/offers"}},[t._v(" 特別優惠 ")]),a("router-link",{staticClass:"navbar-home mx-5",attrs:{to:"/"}},[a("h1",{staticClass:"font-weight-bold great_vibes-style m-0"},[t._v("Afternoon Sweetie")])]),a("router-link",{staticClass:"navbar-link text-secondary mx-3",attrs:{to:"/shop"}},[t._v(" 預約餐點 ")]),a("router-link",{staticClass:"navbar-link text-secondary mx-3",attrs:{to:"/login"}},[t._v(" 管理商品 ")])],1)],1)},ht=[],ft=a("1157"),vt=a.n(ft),Ct={name:"Menu",methods:{openMenu:function(){vt()(".navbar-frame").toggleClass("navbar-open")}}},_t=Ct,gt=Object(h["a"])(_t,mt,ht,!1,null,null,null),bt=gt.exports,xt={name:"App",components:{Menu:bt,Loading:L},computed:{returnLoading:function(){return this.$store.state.loadingStatus},returnError:function(){return this.$store.state.error},returnErrorMessage:function(){return this.$store.state.errorMessage}}},Pt=xt,wt=Object(h["a"])(Pt,dt,pt,!1,null,null,null),Ot=wt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Banner"),a("section",[a("h2",{staticClass:"great_vibes-style text-brown text-center mt-5"},[t._v(" New Sales ")]),a("Spotlight")],1),t._m(0),t._m(1)],1)},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h2",{staticClass:"great_vibes-style text-brown text-center my-4"},[t._v(" Our persistence ")]),a("p",{staticClass:"text-secondary text-indent"},[t._v(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus minima officia cupiditate doloremque esse cumq ue debitis distinctio incidunt magni totam. Doloribus, culpa. Voluptates a quae eveniet in, voluptatem cum, la bore culpa veniam rerum veritatis tempore excepturi ill o cupiditate non tenetur alias corporis qui facere, sim ilique vel. Magni dolor vitae quis iure, consequatur be atae tenetur voluptas in aperiam ipsa labore voluptates nihil deleniti natus eos optio voluptatum iste quos nu mquam incidunt provident accusantium quisquam. Necessi tatibus perspiciatis recusandae quod minima blanditiis explicabo qui odio voluptatem quae suscipit quos tota m veritatis deleniti corrupti tempore error dolore co mmodi ut sed, quasi placeat? Voluptatibus, eaque. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h2",{staticClass:"great_vibes-style text-brown text-center my-5"},[t._v("Contact Us")]),a("div",{staticClass:"d-md-flex justify-content-center align-items-center"},[a("div",{staticClass:"mr-3"},[a("p",[t._v("聯絡電話：0912-345678")]),a("p",[t._v("地址：花蓮縣花蓮市中山路一號")]),a("p",[t._v("聯絡人：陳先生")]),a("p",[t._v("營業時間：11：00 ~ 18：00 每週三公休")])]),a("iframe",{staticStyle:{border:"0"},attrs:{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3645.44223\n              26304107!2d121.6045335146937!3d23.980155985877833!2m3!1f0!2f0!3f\n              0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x34689fc0be4a7ca5%3A0x4443b\n              d6e02836ee!2zOTcw6Iqx6JOu57ij6Iqx6JOu5biC5Lit5bGx6LevMzI3LTHomZ8\n              !5e0!3m2!1szh-TW!2stw!4v1563267714244!5m2!1szh-TW!2stw",width:"100%",height:"450",frameborder:"0",allowfullscreen:""}})])])}],At=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"carousel slide carousel-fade",attrs:{id:"carouselBannerFade","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},[a("li",{staticClass:"active",attrs:{"data-target":"#carouselBannerIndicators","data-slide-to":"0"}}),a("li",{attrs:{"data-target":"#carouselBannerIndicators","data-slide-to":"1"}}),a("li",{attrs:{"data-target":"#carouselBannerIndicators","data-slide-to":"2"}})]),a("div",{staticClass:"carousel-inner"},[a("div",{staticClass:"carousel-item active"},[a("div",{staticClass:"banner-image d-flex align-items-end rounded",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1488474339733-16a5dd4ba5e6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1636&q=80')"}},[a("div",{staticClass:"bg-transparent-black w-100 px-4 py-3"},[a("h2",{staticClass:"display-4 great_vibes-style text-brown-light"},[t._v(" Welcome to afternoon ")]),a("p",{staticClass:"text-white"},[t._v("享受清閒午後時光的好所在")])])])]),a("div",{staticClass:"carousel-item"},[a("div",{staticClass:"banner-image d-flex align-items-end rounded",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1488153074946-0d3b1bcd029c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80')"}},[a("div",{staticClass:"bg-transparent-black w-100 px-4 py-3"},[a("h2",{staticClass:"display-4 great_vibes-style text-brown-light"},[t._v(" Welcome to afternoon ")]),a("p",{staticClass:"text-white"},[t._v("享受清閒午後時光的好所在")])])])]),a("div",{staticClass:"carousel-item"},[a("div",{staticClass:"banner-image d-flex align-items-end rounded",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1514995669114-6081e934b693?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80')"}},[a("div",{staticClass:"bg-transparent-black w-100 px-4 py-3"},[a("h2",{staticClass:"display-4 great_vibes-style text-brown-light"},[t._v(" Welcome to afternoon ")]),a("p",{staticClass:"text-white"},[t._v("享受清閒午後時光的好所在")])])])])]),a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselBannerFade",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])]),a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselBannerFade",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])])])}],Nt={},Tt=Object(h["a"])(Nt,At,Dt,!1,null,null,null),$t=Tt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"carousel slide",attrs:{id:"carouselSpotlightControls","data-ride":"carousel"}},[a("div",{staticClass:"carousel-inner"},[t._l(2,(function(e){return a("div",{key:e,staticClass:"carousel-item",class:{active:1===e}},[a("div",{staticClass:"row"},t._l(4,(function(s){return a("div",{key:t.returnProducts[4*(e-1)+(s-1)].id,staticClass:"col-md-3 p-3"},[a("div",{staticClass:"spotlight-image spotlight-link",style:"background-image: url('"+t.returnProducts[4*(e-1)+(s-1)].imageUrl+"')",on:{click:function(a){a.preventDefault(),t.showProductDetail(t.returnProducts[4*(e-1)+(s-1)].id)}}}),a("div",{staticClass:"mt-2 text-brown"},[a("small",[t._v(" "+t._s(t.returnProducts[4*(e-1)+(s-1)].title)+" - NT $ "+t._s(t.returnProducts[4*(e-1)+(s-1)].price)+" ")])])])})),0)])})),t._m(0),t._m(1)],2)])},kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselSpotlightControls",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselSpotlightControls",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])}],Rt={name:"Spotlight",methods:{getProducts:function(){this.$store.dispatch("clientGetProducts",!0)},showProductDetail:function(t){this.$store.dispatch("clientShowProductDetail",t)}},computed:{returnProducts:function(){return this.$store.state.client.products}},created:function(){this.getProducts()}},St=Rt,Lt=Object(h["a"])(St,It,kt,!1,null,null,null),Mt=Lt.exports,Ut={name:"Main",components:{Banner:$t,Spotlight:Mt}},Gt=Ut,jt=Object(h["a"])(Gt,yt,Et,!1,null,null,null),qt=jt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view"),a("router-link",{staticClass:"btn-cart",attrs:{to:"/cart"}},[a("i",{staticClass:"fas fa-shopping-basket"}),a("span",{staticClass:"badge badge-pill badge-green-light btn-cart-badge px-2 py-1"},[t._v(" "+t._s(t.returnCartsAmount)+" ")])])],1)},Wt=[],Bt={name:"Shop",computed:{returnCartsAmount:function(){return this.$store.state.client.cartsAmount}}},Ht=Bt,Zt=Object(h["a"])(Ht,Ft,Wt,!1,null,null,null),Jt=Zt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"p-sticky"},[a("ul",{staticClass:"filter-bar p-0"},[a("li",{staticClass:"filter border border-brown mb-3 py-2 pl-4 rounded-pill",class:{"filter-active":"all"===t.returnCategory||"home"===t.returnCategory},on:{click:function(e){return e.preventDefault(),t.changeCategory("all")}}},[a("i",{staticClass:"fas fa-cookie"}),t._v(" 全部餐點 ")]),a("li",{staticClass:"filter border border-brown mb-3 py-2 pl-4 rounded-pill",class:{"filter-active":"single"===t.returnCategory},on:{click:function(e){return e.preventDefault(),t.changeCategory("single")}}},[a("i",{staticClass:"fas fa-cookie"}),t._v(" 甜點單點 ")]),a("li",{staticClass:"filter border border-brown mb-3 py-2 pl-4 rounded-pill",class:{"filter-active":"drink"===t.returnCategory},on:{click:function(e){return e.preventDefault(),t.changeCategory("drink")}}},[a("i",{staticClass:"fas fa-cookie"}),t._v(" 甜蜜飲品 ")]),a("li",{staticClass:"filter border border-brown mb-3 py-2 pl-4 rounded-pill",class:{"filter-active":"fruit"===t.returnCategory},on:{click:function(e){return e.preventDefault(),t.changeCategory("fruit")}}},[a("i",{staticClass:"fas fa-cookie"}),t._v(" 水果沙拉 ")]),a("li",{staticClass:"filter border border-brown mb-3 py-2 pl-4 rounded-pill",class:{"filter-active":"package"===t.returnCategory},on:{click:function(e){return e.preventDefault(),t.changeCategory("package")}}},[a("i",{staticClass:"fas fa-cookie"}),t._v(" 基本套餐 ")])]),a("hr"),a("CartList",{staticClass:"close-on-mobile"})],1)]),a("div",{staticClass:"col-md-8"},[a("h2",{staticClass:"h3 font-weight-normal mb-4"},[t._v(" "+t._s(this.$store.state.client.productTitle[t.returnCategory])+" ")]),a("div",{staticClass:"row"},t._l(t.returnProducts,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 col-sm-6"},[a("div",{staticClass:"main-image mr-3",style:"background-image: url("+e.imageUrl+");",on:{click:function(a){return a.preventDefault(),t.showProductDetail(e.id)}}}),a("h2",{staticClass:"h6 text-dark font-weight-bold mt-2"},[t._v(t._s(e.title))]),a("div",{staticClass:"d-flex justify-content-between align-items-center mb-4"},[a("strong",{staticClass:"text-danger"},[t._v("NT$ "+t._s(e.price))]),a("button",{staticClass:"btn btn-link p-0",on:{click:function(a){return a.preventDefault(),t.addCart(e.id)}}},[a("i",{staticClass:"fas fa-shopping-basket text-secondary"})])])])})),0),a("nav",{staticClass:"d-flex justify-content-center mt-5"},[a("ul",{staticClass:"pagination"},t._l(t.returnTotalPage,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.returnCurrentPage==e},on:{click:function(a){return a.preventDefault(),t.changeCurrentPage(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(" "+t._s(e)+" ")])])})),0)])])])])},Yt=[],Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"d-flex justify-content-between\n                align-items-center border rounded px-3 py-2 mt-3"},[a("p",{staticClass:"text-secondary m-0"},[t._v("總額")]),a("strong",{staticClass:"text-brown font-weight-normal"},[t._v("NT"+t._s(t.returnTotalPrice)+"$")])]),t.returncouponEnabled?a("div",{staticClass:"d-flex justify-content-between\n                align-items-center border rounded px-3 py-2 mt-3"},[a("p",{staticClass:"text-secondary m-0"},[t._v("折扣後")]),a("strong",{staticClass:"text-brown font-weight-normal"},[t._v(" NT"+t._s(t.returnTotalAfterCoupon)+"$ ")])]):t._e(),t._l(t.returnCarts,(function(e){return a("div",{key:e.id,staticClass:"d-flex align-items-center border rounded p-3 mt-3"},[a("button",{staticClass:"btn btn-outline-danger",on:{click:function(a){return a.preventDefault(),t.deleteCart(e.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})]),a("div",{staticClass:"cart-image ml-2",style:"background-image: url("+e.product.imageUrl+");"}),a("div",{staticClass:"text-secondary ml-2"},[a("p",{staticClass:"m-0"},[t._v(t._s(e.product.title))]),a("small",[t._v(t._s(e.qty)+" / "+t._s(e.product.unit))])]),a("strong",{staticClass:"h5 font-weight-normal text-brown m-0 ml-auto"},[t._v(" NT$"+t._s(e.total)+" ")])])})),a("button",{staticClass:"btn btn-block btn-danger mt-3",on:{click:function(e){return e.preventDefault(),t.removeCartsItems(e)}}},[t._v(" 清除購物車物品 ")]),a("div",{staticClass:"border rounded p-3 mt-3"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.couponCode},on:{input:function(e){e.target.composing||(t.couponCode=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-brown",on:{click:function(e){return e.preventDefault(),t.setCoupon()}}},[t._v("送出")])])])])],2)},Vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("h2",{staticClass:"h5 text-brown font-weight-normal"},[t._v("購物車清單")]),a("span",{staticClass:"badge badge-secondary px-2 rounded-pill"},[t._v("0")])])}],Kt={name:"CartList",methods:{getCarts:function(){this.$store.dispatch("clientGetCarts")},deleteCart:function(t){this.$store.dispatch("clientDeleteCart",t)},setCoupon:function(){this.$store.dispatch("clientSetCoupon")},removeCartsItems:function(){this.$store.dispatch("clientRemoveCartsItem")}},computed:{returnCarts:function(){return this.$store.state.client.carts},returnTotalPrice:function(){return this.$store.state.client.cartTotalPrice},returnTotalAfterCoupon:function(){return this.$store.state.client.cartTotalAfterCoupon},returncouponEnabled:function(){return this.$store.state.client.couponEnabled},couponCode:{get:function(){return this.$store.state.client.couponCode},set:function(t){this.$store.commit("CLIENT_COUPON_CODE",t)}}},created:function(){this.getCarts()}},Xt=Kt,te=Object(h["a"])(Xt,Qt,Vt,!1,null,null,null),ee=te.exports,ae={components:{CartList:ee},methods:{getProducts:function(){this.$store.dispatch("clientGetProducts")},showProductDetail:function(t){this.$store.dispatch("clientShowProductDetail",t)},getCartsAmount:function(){this.$store.dispatch("clientGetCartsAmount")},addCart:function(t){this.$store.dispatch("clientAddCart",{id:t,amount:1})},changeCategory:function(t){this.$store.dispatch("clientChangeCategory",t)},changeCurrentPage:function(t){this.$store.commit("CLIENT_PRODUCT_CURRENTPAGE",t)}},computed:{returnProducts:function(){var t=[];if(this.$store.state.client.products.length>0){for(var e=10*(this.returnCurrentPage-1);e<=10*(this.returnCurrentPage-1)+9;e+=1)void 0!==this.$store.state.client.products[e]&&t.push(this.$store.state.client.products[e]);return t}return t},retrunCartsAmount:function(){return this.$store.state.client.cartsAmount},returnCategory:function(){return this.$store.state.client.productFilterString},returnTotalPage:function(){return this.$store.state.client.productTotalPage},returnCurrentPage:function(){return this.$store.state.client.productCurrentPage}},created:function(){this.getProducts(),this.getCartsAmount()}},se=ae,re=Object(h["a"])(se,zt,Yt,!1,null,null,null),ne=re.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-link",{staticClass:"d-block text-green-light mb-5",attrs:{to:"/shop"}},[a("i",{staticClass:"fas fa-backward mr-3"}),t._v(" 回到商品區 ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("CartList",{staticClass:"close-on-mobile"})],1),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"detail-image-position h-100",style:"background-image: url("+t.returnProduct.imageUrl+");"})]),a("div",{staticClass:"col-md-4"},[a("span",{staticClass:"badge badge-brown mb-4"},[t._v(t._s(t.returnProduct.category))]),a("h2",{staticClass:"h3 font-weight-normal text-secondary"},[t._v(t._s(t.returnProduct.title))]),a("hr"),a("p",{staticClass:"text-brown"},[t._v("【產品說明】")]),a("p",{staticClass:"text-secondary"},[t._v(t._s(t.returnProduct.content))]),a("strong",{staticClass:"h4 text-brown mr-2"},[a("small",{staticClass:"font-weight-bold"},[t._v("NT$")]),t._v(" "+t._s(t.returnProduct.price)+" ")]),a("del",{staticClass:"h6 text-secondary"},[a("small",{staticClass:"font-weight-bold"},[t._v("NT$")]),t._v(" "+t._s(t.returnProduct.origin_price)+" ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.productAmount,expression:"productAmount"}],staticClass:"select-block mt-4",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.productAmount=e.target.multiple?a:a[0]}}},t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" 購買 "+t._s(e)+" "+t._s(t.returnProduct.unit)+" ")])})),0),a("p",{staticClass:"text-right h5 mt-4 text-secondary"},[t._v("總共 : "),a("strong",{staticClass:"h3 font-weight-normal text-brown"},[a("small",{staticClass:"font-weight-bold"},[t._v("NT$")]),t._v(" "+t._s(t.returnProduct.price*t.productAmount)+" ")])]),a("hr"),a("div",{staticClass:"d-flex justify-content-between mt-4"},[a("button",{staticClass:"btn btn-brown",on:{click:function(e){return e.preventDefault(),t.addCart()}}},[t._v("加到購物車")]),a("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return e.preventDefault(),t.pageReturn()}}},[t._v("查看其他商品")])])])]),a("hr",{staticClass:"my-5"}),a("h2",{staticClass:"mb-4 close-on-mobile"},[t._v("新商品上架")]),a("Spotlight",{staticClass:"close-on-mobile"})],1)},ie=[],ce={name:"ProductDetail",components:{CartList:ee,Spotlight:Mt},methods:{getProductDetail:function(t){this.$store.dispatch("clientGetProductDetail",t)},addCart:function(){this.$store.dispatch("clientAddCart",{id:this.returnProduct.id,amount:this.productAmount})},pageReturn:function(){this.$store.dispatch("clientProductPageReturn")}},computed:{returnProduct:function(){return this.$store.state.client.product},productAmount:{get:function(){return this.$store.state.client.productAmount},set:function(t){this.$store.commit("CLIENT_PRODUCTAMOUNT",t)}}},created:function(){this.getProductDetail(this.$route.params.productId)}},le=ce,ue=Object(h["a"])(le,oe,ie,!1,null,null,null),de=ue.exports,pe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},me=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("h2",{staticClass:"text-brown"},[t._v("最新優惠")]),a("hr"),a("div",{staticClass:"offer-card p-3"},[a("h3",{staticClass:"h2 offer-card-title"},[t._v("[ 聖誕優惠 ]")]),a("p",{staticClass:"h5 offer-card-content mt-3"},[t._v("輸入下面的聖誕優惠代碼")]),a("strong",{staticClass:"h1 offer-card-code mt-3"},[t._v("- christmas90 -")]),a("p",{staticClass:"h5 offer-card-footer mt-3"},[t._v("可享商品9折優惠")])]),a("div",{staticClass:"offer-card p-3"},[a("h3",{staticClass:"h2 offer-card-title"},[t._v("[ 年末大優惠 ]")]),a("p",{staticClass:"h5 offer-card-content mt-3"},[t._v("只要來店用餐滿額即可參加抽獎")]),a("strong",{staticClass:"h1 offer-card-code mt-3"},[t._v("有機會獲得年末優惠券")]),a("p",{staticClass:"h5 offer-card-footer mt-3"},[t._v("可享商品5折優惠")])]),a("hr")])}],he={},fe=Object(h["a"])(he,pe,me,!1,null,null,null),ve=fe.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"step-list"},[a("div",{staticClass:"step-list-header"},[a("span",{staticClass:"step-circle",class:{"circle-active":"first"==t.returnPageStatus}},[t._v(" 1 ")]),a("span",{staticClass:"step-line"}),a("span",{staticClass:"step-circle",class:{"circle-active":"second"==t.returnPageStatus&&0==t.returnPaidStatus}},[t._v(" 2 ")]),a("span",{staticClass:"step-line"}),a("span",{staticClass:"step-circle",class:{"circle-active":"second"==t.returnPageStatus&&1==t.returnPaidStatus}},[t._v(" 3 ")])]),a("div",{staticClass:"step-list-body mb-5 mt-3"},[a("p",{staticClass:"mx-4",class:{"text-active":"first"==t.returnPageStatus}},[t._v(" 輸入資料 ")]),a("p",{staticClass:"mx-4",class:{"text-active":"second"==t.returnPageStatus&&0==t.returnPaidStatus}},[t._v(" 付款 ")]),a("p",{staticClass:"mx-4",class:{"text-active":"second"==t.returnPageStatus&&1==t.returnPaidStatus}},[t._v(" 訂單完成 ")])]),a("router-link",{staticClass:"text-green-light",attrs:{to:"/shop"}},[a("i",{staticClass:"fas fa-backward mr-3"}),t._v(" 回到商品區 ")]),a("router-view")],1)},_e=[],ge={computed:{returnPageStatus:function(){return this.$store.state.client.schedulePage},returnPaidStatus:function(){return this.$store.state.client.schedulePaid}}},be=ge,xe=Object(h["a"])(be,Ce,_e,!1,null,null,null),Pe=xe.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mt-4 align-items-start"},[a("div",{staticClass:"col-md-4"},[a("CartList")],1),a("div",{staticClass:"col-md-8"},[a("h2",{staticClass:"h5 text-brown font-weight-normal mb-4 margin-mobile"},[t._v("訂單資訊")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.createOrder(t.form)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-6"},[a("label",{staticClass:"text-secondary",attrs:{for:"name"}},[t._v("姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t.errors.has("name")?a("span",{staticClass:"text-danger"},[t._v("電話號碼不能為空")]):t._e()]),a("div",{staticClass:"form-group col-6"},[a("label",{staticClass:"text-secondary",attrs:{for:"phone"}},[t._v("電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("phone")},attrs:{type:"number",name:"phone"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t.errors.has("phone")?a("span",{staticClass:"text-danger"},[t._v("電話號碼不能為空")]):t._e()])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"text-secondary mt-4",attrs:{for:"mail"}},[t._v("電子郵件")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("mail")},attrs:{type:"text",name:"mail"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t.errors.has("mail")?a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("mail"))+" ")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"text-secondary mt-4",attrs:{for:"mail"}},[t._v("地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",name:"address"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t.errors.has("address")?a("span",{staticClass:"text-danger"},[t._v("地址不能為空")]):t._e()]),a("div",{staticClass:"form-group"},[t._m(0),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{cols:"50",rows:"10",name:"address"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}}),t.errors.has("address")?a("span",{staticClass:"text-danger"},[t._v("別忘了告訴我們用餐時間和人數哦！")]):t._e()]),a("hr"),a("button",{staticClass:"btn btn-block btn-brown",attrs:{type:"submit"}},[t._v("前往付款")])])])])},Oe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-secondary mt-4",attrs:{for:"mail"}},[t._v(" 備註 "),a("small",{staticClass:"text-brown"},[t._v("(請告知我們用餐時間與人數)")])])}],ye={name:"Cartform",data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},components:{CartList:ee},methods:{getCarts:function(){this.$store.dispatch("clientGetCarts")},deleteCart:function(t){this.$store.dispatch("clientDeleteCart",t)},createOrder:function(t){var e=this;this.$validator.validate().then((function(a){a&&e.$store.dispatch("clientCreateOrder",t)}))},setCoupon:function(){this.$store.dispatch("clientSetCoupon")}},computed:{returnCarts:function(){return this.$store.state.client.carts},returnTotalPrice:function(){return this.$store.state.client.cartTotalPrice},returnTotalAfterCoupon:function(){return this.$store.state.client.cartTotalAfterCoupon},returncouponEnabled:function(){return this.$store.state.client.couponEnabled},couponCode:{get:function(){return this.$store.state.client.couponCode},set:function(t){this.$store.commit("CLIENT_COUPON_CODE",t)}}},created:function(){this.getCarts()}},Ee=ye,Ae=Object(h["a"])(Ee,we,Oe,!1,null,null,null),De=Ae.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-block w-50 width-mobile mx-auto"},[a("h2",{staticClass:"h5 text-secondary font-weight-normal my-3"},[t._v("購買列表")]),a("table",{staticClass:"w-100 table-striped"},[t._m(0),a("tbody",t._l(t.returnOrders,(function(e){return a("tr",{key:e.id,staticClass:"text-secondary"},[a("td",{staticClass:"px-3 py-2"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.qty)+" / "+t._s(e.product.unit))]),a("td",{staticClass:"text-right px-3 text-brown"},[t._v("NT$"+t._s(e.final_total))])])})),0)]),a("div",{staticClass:"text-secondary text-right my-3 px-3"},[a("span",[t._v("總計")]),a("strong",{staticClass:"h3 text-brown font-weight-normal ml-2"},[t._v(" NT$"+t._s(t.returnOrderTotalPrice)+" ")])]),a("hr"),a("h2",{staticClass:"h5 text-secondary font-weight-normal my-3"},[t._v("個人資訊")]),a("table",{staticClass:"w-100 table-striped"},[t._m(1),a("tbody",{staticClass:"text-secondary"},[a("tr",[a("td",{staticClass:"px-3 py-2"},[t._v("姓名")]),a("td",[t._v(t._s(t.returnOrderUserDetail.name))])]),a("tr",[a("td",{staticClass:"px-3 py-2"},[t._v("電話")]),a("td",[t._v(t._s(t.returnOrderUserDetail.tel))])]),a("tr",[a("td",{staticClass:"px-3 py-2"},[t._v("電子郵件")]),a("td",[t._v(t._s(t.returnOrderUserDetail.email))])]),a("tr",[a("td",{staticClass:"px-3 py-2"},[t._v("地址")]),a("td",[t._v(t._s(t.returnOrderUserDetail.address))])]),a("tr",[a("td",{staticClass:"px-3 py-2"},[t._v("付款狀態")]),t.returnOrderPaid?a("td",{staticClass:"text-success"},[t._v("付款完成")]):t._e(),t.returnOrderPaid?t._e():a("td",{staticClass:"text-danger"},[t._v("尚未付款")])])])]),a("div",{staticClass:"text-right mt-4 "},[a("button",{staticClass:"btn btn-brown",on:{click:function(e){return e.preventDefault(),t.payment()}}},[t._v("確認付款")])])])},Te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-brown text-white"},[a("tr",[a("th",{staticClass:"px-3 py-2"},[t._v("商品名稱")]),a("th",{staticClass:"text-center",attrs:{width:"100px"}},[t._v("數量")]),a("th",{staticClass:"text-right px-3",attrs:{width:"150px"}},[t._v("價格")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-brown text-white"},[a("tr",[a("th",{staticClass:"py-2 px-3",attrs:{colspan:"2"}},[t._v("訂單資訊")])])])}],$e={name:"CartPayment",methods:{getOrders:function(){this.$store.dispatch("clientGetOrders")},payment:function(){this.$store.dispatch("clientOrderPayment")}},computed:{returnOrders:function(){return this.$store.state.client.orders},returnOrderUserDetail:function(){return this.$store.state.client.orderUserDetail},returnOrderTotalPrice:function(){return this.$store.state.client.orderTotalPrice},returnOrderPaid:function(){return this.$store.state.client.orderPaid}},created:function(){this.getOrders()}},Ie=$e,ke=Object(h["a"])(Ie,Ne,Te,!1,null,null,null),Re=ke.exports;s["a"].use(C["a"]);var Se=[{path:"*",redirect:"/"},{path:"/admin",component:j,meta:{requiresAuth:!0},children:[{path:"",name:"AdminProducts",component:K,meta:{requiresAuth:!0}},{path:"orders",name:"AdminOrders",component:rt,meta:{requiresAuth:!0}},{path:"coupons",name:"AdminCoupons",component:ut,meta:{requiresAuth:!0}}]},{path:"/",component:Ot,children:[{path:"",name:"Main",component:qt},{path:"shop",component:Jt,children:[{path:"/",name:"ProductMain",component:ne},{path:":productId",name:"ProductDetail",component:de}]},{path:"offers",name:"Offers",component:ve},{path:"cart",component:Pe,children:[{path:"/",name:"CartForm",component:De},{path:"/payment/:orderId",name:"CartPayment",component:Re}]}]},{path:"/login",name:"Login",component:Z}],Le=new C["a"]({routes:Se}),Me=Le,Ue=(a("c975"),a("2f62"));s["a"].use(Ue["a"]);var Ge=new Ue["a"].Store({state:{loadingStatus:!1,updateStatus:!1,error:!1,errorMessage:"",user:{username:"",password:""},admin:{searchMode:"product",searchContent:"",products:[],product:{},productIsNew:!0,productTotalPage:0,productSearchPage:0,productCurrentPage:1,coupons:[],coupon:{},couponIsNew:!0,couponTotalPage:0,couponSearchPage:0,couponCurrentPage:1,orders:[],orderTotalPage:0,orderSearchPage:0,orderCurrentPage:1},client:{cartsAmount:0,products:[],productFilterArray:[],productFilterString:"all",productTotalPage:0,productCurrentPage:1,productListAmount:0,productTitle:{all:"全部餐點",home:"全部餐點",single:"單點餐點",drink:"甜蜜飲品",fruit:"水果沙拉",package:"基本套餐"},product:{},productId:"",productAmount:1,schedulePage:"first",schedulePaid:!1,carts:[],cartTotalPrice:0,cartTotalAfterCoupon:0,cartOrderId:"",couponCode:"",couponEnabled:!1,orders:[],orderUserDetail:{},orderTotalPrice:0,orderPaid:!1}},actions:{checkLogin:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/user/check");n.a.post(t).then((function(t){t.data.success||Me.push("sign")}))},changeSearchMode:function(t,e){t.commit("ADMIN_CHANGE_SEARCHMODE",e)},search:function(t){var e=this,a=[],s="";switch(t.commit("LOADING",!0),this.state.admin.searchMode){case"product":if(""===this.state.admin.searchContent){t.commit("LOADING",!1),window.location.reload();break}for(var r=1;r<=this.state.admin.productTotalPage;r+=1)s="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/products?page=").concat(r),n.a.get(s).then((function(s){s.data.success&&s.data.products.forEach((function(t){-1!==t.title.indexOf(e.state.admin.searchContent)&&a.push(t)})),t.commit("LOADING",!1)}));t.commit("ADMIN_PRODUCTS",a),this.commit("ADMIN_PRODUCT_PAGE",1);break;case"coupon":if(""===this.state.admin.searchContent){t.commit("LOADING",!1),window.location.reload();break}for(var o=1;o<=this.state.admin.couponTotalPage;o+=1)s="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/coupons?page=").concat(o),n.a.get(s).then((function(s){s.data.success&&s.data.coupons.forEach((function(t){-1!==t.title.indexOf(e.state.admin.searchContent)&&a.push(t)})),t.commit("LOADING",!1)}));t.commit("ADMIN_COUPONS",a),this.commit("ADMIN_COUPONS_PAGE",1);break;case"order":if(""===this.state.admin.searchContent){t.commit("LOADING",!1),window.location.reload();break}for(var i=1;i<=this.state.admin.orderTotalPage;i+=1)s="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/orders?page=").concat(i),n.a.get(s).then((function(s){s.data.success&&s.data.orders.forEach((function(t){-1!==t.user.email.indexOf(e.state.admin.searchContent)&&a.push(t)})),t.commit("LOADING",!1)}));t.commit("ADMIN_ORDERS",a),this.commit("ADMIN_ORDER_PAGE",1);break;default:break}},checkUser:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/admin/signin");t.commit("USERNAME",e.username),t.commit("PASSWORD",e.password),n.a.post(a,this.state.user).then((function(e){e.data.success?Me.push("/admin"):(t.commit("USERNAME",""),t.commit("PASSWORD",""),t.commit("ERROR",{error:!0,message:e.data.error.message}),setInterval((function(){t.commit("ERROR",{error:!1,message:""})}),5e3))}))},adminGetProducts:function(t,e){t.commit("LOADING",!0);var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/products?page=").concat(e);n.a.get(a).then((function(e){e.data.success&&(t.commit("ADMIN_PRODUCTS",e.data.products),t.commit("ADMIN_PRODUCT_TOTALPAGE",e.data.pagination.total_pages),t.commit("ADMIN_PRODUCT_PAGE",e.data.pagination.total_pages),t.commit("ADMIN_PRODUCT_CURRENTPAGE",e.data.pagination.current_page)),t.commit("LOADING",!1)}))},adminProductOpenModal:function(t,e){vt()("#createModal").modal("show"),t.commit("ADMIN_PRODUCT_ISNEW",e.isNew),this.state.admin.productIsNew?t.commit("ADMIN_PRODUCT",{}):t.commit("ADMIN_PRODUCT",Object.assign({},e.item))},adminSubmitProduct:function(t,e){t.commit("ADMIN_PRODUCT",e);var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/product"),s="post";this.state.admin.productIsNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/product/").concat(this.state.admin.product.id),s="put"),n.a[s](a,{data:this.state.admin.product}).then((function(e){e.data.success&&(t.dispatch("adminGetProducts",1),vt()("#createModal").modal("hide"))}))},adminDeleteProduct:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/product/").concat(e);n.a.delete(a).then((function(e){e.data.success&&(t.dispatch("adminGetProducts",1),vt()("#createModal").modal("hide"))}))},adminProductUploadFile:function(t,e){t.commit("UPDATESTATUS",!0);var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/upload"),s=new FormData;s.append("file-to-upload",e),n.a.post(a,s,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){e.data.success&&(t.commit("ADMIN_PRODUCT_SET_IMAGEURL",e.data.imageUrl),t.commit("UPDATESTATUS",!1))}))},adminGetCoupons:function(t,e){t.commit("LOADING",!0);var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/coupons?page=").concat(e);n.a.get(a).then((function(e){t.commit("ADMIN_COUPONS",e.data.coupons),t.commit("ADMIN_COUPON_TOTALPAGE",e.data.pagination.total_pages),t.commit("ADMIN_COUPON_PAGE",e.data.pagination.total_pages),t.commit("ADMIN_COUPON_CURRENTPAGE",e.data.pagination.current_page),t.commit("LOADING",!1)}))},adminSubmitCoupon:function(t,e){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/coupon"),r="post";this.state.admin.couponIsNew||(s="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/coupon/").concat(e),r="put");var o=new Date(this.state.admin.coupon.dueDate);t.commit("ADMIN_SET_COUPON",o),n.a[r](s,{data:this.state.admin.coupon}).then((function(){a.dispatch("adminGetCoupons",1),vt()("#couponModal").modal("hide")}))},adminDeleteCoupon:function(t,e){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/coupon/").concat(e);n.a.delete(s).then((function(){a.state.admin.CouponCurrentPage>a.state.admin.CouponTotalPage?(a.dispatch("adminGetCoupons",a.state.admin.couponCurrentPage-1),t.commit("ADMIN_COUPON_CURRENTPAGE",a.state.admin.couponCurrentPage-1)):a.dispatch("adminGetCoupons",a.state.admin.couponCurrentPage),vt()("#couponModal").modal("hide")}))},adminCouponOpenModal:function(t,e){vt()("#couponModal").modal("show"),t.commit("ADMIN_COUPON_ISNEW",e.isNew),this.state.admin.couponIsNew?t.commit("ADMIN_COUPON",{}):(t.commit("ADMIN_COUPON",Object.assign({},e.item)),t.commit("ADMIN_COUPON_DUEDATE",e.item.dueDate))},adminGetOrders:function(t,e){t.commit("LOADING",!0);var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/admin/orders?page=").concat(e);n.a.get(a).then((function(e){t.commit("ADMIN_ORDERS",e.data.orders),t.commit("ADMIN_ORDER_TOTALPAGE",e.data.pagination.total_pages),t.commit("ADMIN_ORDER_PAGE",e.data.pagination.total_pages),t.commit("ADMIN_ORDER_CURRENTPAGE",e.data.pagination.current_page),t.commit("LOADING",!1)}))},clientGetProducts:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.commit("LOADING",!0);var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/products/all");n.a.get(s).then((function(s){s.data.success&&(t.commit("CLIENT_PRODUCTS",{products:s.data.products,status:a}),t.commit("CLIENT_PRODUCT_CURRENTPAGE",1),e.commit("LOADING",!1))}))},clientShowProductDetail:function(t,e){Me.push("/shop/".concat(e)),window.location.reload()},clientGetCartsAmount:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/cart");n.a.get(e).then((function(e){e.data.success&&t.commit("CLIENT_GET_CARTSAMOUNT",e.data.data.carts.length)}))},clientAddCart:function(t,e){var a=this;t.commit("LOADING",!0);var s={product_id:e.id,qty:e.amount},r="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/cart");n.a.post(r,{data:s}).then((function(e){e.data.success&&(a.dispatch("clientGetCartsAmount"),a.dispatch("clientGetCarts"),t.commit("ERROR",{error:!0,message:e.data.message}),setInterval((function(){t.commit("ERROR",{error:!1,message:""})}),3e3)),t.commit("LOADING",!1)}))},clientChangeCategory:function(t,e){t.commit("CLIENT_CATEGORY",e),this.dispatch("clientGetProducts",1)},clientGetProductDetail:function(t,e){t.commit("LOADING",!0);var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/product/").concat(e);n.a.get(a).then((function(e){e.data.success?t.commit("CLIENT_PRODUCT",e.data.product):(t.commit("ERROR",{error:!0,message:e.data.message}),setInterval((function(){t.commit("ERROR",{error:!1,message:""})}),5e3)),t.commit("LOADING",!1)}))},clientProductPageReturn:function(){Me.push("/shop")},clientGetCarts:function(t){t.commit("LOADING",!0),t.commit("CLIENT_SCHEDULE_STATUE",{page:"first",paid:!1});var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/cart");n.a.get(e).then((function(e){t.commit("CLIENT_CARTS",e.data.data.carts),t.commit("CLIENT_CART_TOTALPRICE",e.data.data.total),t.commit("CLIENT_CART_TOTAL_AFTER_COUPON",e.data.data.final_total),t.commit("LOADING",!1)}))},clientDeleteCart:function(t,e){var a=this;t.commit("LOADING",!0);var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/cart/").concat(e);n.a.delete(s).then((function(e){e.data.success&&a.dispatch("clientGetCarts"),t.commit("LOADING",!1)}))},clientRemoveCartsItem:function(t){var e=this;t.commit("LOADING",!0),this.state.client.carts.forEach((function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/cart/").concat(t.id);n.a.delete(a).then((function(t){t.data.success&&e.dispatch("clientGetCarts")}))})),t.commit("LOADING",!1)},clientCreateOrder:function(t,e){var a=this;t.commit("LOADING",!0);var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/order");n.a.post(s,{data:e}).then((function(e){e.data.success&&(t.commit("CLIENT_CART_ORDERID",e.data.orderId),a.dispatch("clientCartPageForward",{page:"second",paid:!1}),t.commit("LOADING",!1),Me.push("payment/".concat(a.state.client.cartOrderId)))}))},clientSetCoupon:function(t){t.commit("LOADING",!0);var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/coupon");n.a.post(e,{data:{code:this.state.client.couponCode}}).then((function(e){e.data.success&&(t.commit("CLIENT_COUPON_ENABLED",!0),t.commit("CLIENT_CART_TOTAL_AFTER_COUPON",e.data.data.final_total)),t.commit("LOADING",!1)}))},clientCartPageForward:function(t,e){t.commit("CLIENT_SCHEDULE_STATUE",{page:e.page,paid:e.paid})},clientGetOrders:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/order/").concat(this.state.client.cartOrderId);n.a.get(a).then((function(a){a.data.success&&(t.commit("CLIENT_ORDERS",a.data.order.products),t.commit("CLIENT_ORDER_USERDETAIL",a.data.order.user),t.commit("CLIENT_ORDER_TOTALPRICE",a.data.order.total),t.commit("CLIENT_ORDER_PAID",a.data.order.is_paid),e.state.client.orderPaid?e.dispatch("clientCartPageForward",{page:"second",paid:!0}):e.dispatch("clientCartPageForward",{page:"second",paid:!1}))}))},clientOrderPayment:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("suto","/pay/").concat(this.state.client.cartOrderId);n.a.post(a).then((function(a){a.data.success&&(t.commit("CLIENT_ORDER_PAID",!0),e.dispatch("clientCartPageForward",{page:"second",paid:!0}))}))}},mutations:{LOADING:function(t,e){t.loadingStatus=e},UPDATESTATUS:function(t,e){t.updateStatus=e},ERROR:function(t,e){t.error=e.error,t.errorMessage=e.message},USERNAME:function(t,e){t.user.username=e},PASSWORD:function(t,e){t.user.password=e},ADMIN_CHANGE_SEARCHMODE:function(t,e){t.admin.searchMode=e},ADMIN_SEARCHCONTENT:function(t,e){t.admin.searchContent=e},ADMIN_PRODUCT_PAGE:function(t,e){t.admin.productSearchPage=e},ADMIN_COUPON_PAGE:function(t,e){t.admin.couponSearchPage=e},ADMIN_ORDER_PAGE:function(t,e){t.admin.orderSearchPage=e},ADMIN_PRODUCTS:function(t,e){t.admin.products=e},ADMIN_PRODUCT:function(t,e){t.admin.product=e},ADMIN_PRODUCT_TOTALPAGE:function(t,e){t.admin.productTotalPage=e},ADMIN_PRODUCT_CURRENTPAGE:function(t,e){t.admin.productCurrentPage=e},ADMIN_PRODUCT_ISNEW:function(t,e){t.admin.productIsNew=e},ADMIN_PRODUCT_SET_IMAGEURL:function(t,e){s["a"].set(t.admin.product,"imageUrl",e)},ADMIN_COUPONS:function(t,e){t.admin.coupons=e},ADMIN_COUPON:function(t,e){t.admin.coupon=e},ADMIN_SET_COUPON:function(t,e){s["a"].set(t.admin.coupon,"dueDate",e.getTime())},ADMIN_COUPON_TOTALPAGE:function(t,e){t.admin.couponTotalPage=e},ADMIN_COUPON_CURRENTPAGE:function(t,e){t.admin.couponCurrentPage=e},ADMIN_COUPON_ISNEW:function(t,e){t.admin.couponIsNew=e},ADMIN_COUPON_DUEDATE:function(t,e){for(var a=new Date(e),s=[a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes()],r=0;r<4;r+=1)Number(s[r]<10)&&(s[r]="0".concat(s[r]));t.admin.coupon.dueDate="".concat(a.getFullYear(),"-").concat(s[0],"-").concat(s[1],"T").concat(s[2],":").concat(s[3])},ADMIN_ORDERS:function(t,e){t.admin.orders=e},ADMIN_ORDER_TOTALPAGE:function(t,e){t.admin.orderTotalPage=e},ADMIN_ORDER_CURRENTPAGE:function(t,e){t.admin.orderCurrentPage=e},CLIENT_GET_CARTSAMOUNT:function(t,e){t.client.cartsAmount=e},CLIENT_PRODUCTS:function(t,e){switch(t.client.products=[],t.client.productFilterArray=[],t.client.productListAmount=0,!0===e.status&&(t.client.productFilterString="home"),t.client.productFilterString){case"single":e.products.forEach((function(e){"甜點"===e.category&&(t.client.products.push(e),t.client.productListAmount+=1)}));break;case"drink":e.products.forEach((function(e){"飲品"===e.category&&(t.client.products.push(e),t.client.productListAmount+=1)}));break;case"fruit":e.products.forEach((function(e){"水果沙拉"===e.category&&(t.client.products.push(e),t.client.productListAmount+=1)}));break;case"package":e.products.forEach((function(e){"拼盤"===e.category&&(t.client.products.push(e),t.client.productListAmount+=1)}));break;case"home":t.client.products=e.products;break;default:t.client.products=e.products,t.client.productListAmount=e.products.length}t.client.productTotalPage=Math.floor(t.client.productListAmount/10),t.client.productListAmount%10!==0&&(t.client.productTotalPage+=1)},CLIENT_CATEGORY:function(t,e){t.client.productFilterString=e},CLIENT_PRODUCT_TOTALPAGE:function(t,e){t.client.productTotalPage=e},CLIENT_PRODUCT_CURRENTPAGE:function(t,e){t.client.productCurrentPage=e},CLIENT_PRODUCT:function(t,e){t.client.product=e},CLIENT_PRODUCTAMOUNT:function(t,e){t.client.productAmount=e},CLIENT_SCHEDULE_STATUE:function(t,e){t.client.schedulePage=e.page,t.client.schedulePaid=e.paid},CLIENT_CARTS:function(t,e){t.client.carts=e},CLIENT_CART_TOTALPRICE:function(t,e){t.client.cartTotalPrice=e},CLIENT_CART_TOTAL_AFTER_COUPON:function(t,e){t.client.cartTotalAfterCoupon=e},CLIENT_CART_ORDERID:function(t,e){t.client.cartOrderId=e},CLIENT_COUPON_CODE:function(t,e){t.client.couponCode=e},CLIENT_COUPON_ENABLED:function(t,e){t.client.couponEnabled=e},CLIENT_ORDERS:function(t,e){t.client.orders=e},CLIENT_ORDER_USERDETAIL:function(t,e){t.client.orderUserDetail=e},CLIENT_ORDER_TOTALPRICE:function(t,e){t.client.orderTotalPrice=e},CLIENT_ORDER_PAID:function(t,e){t.client.orderPaid=e}}});s["a"].prototype.$bus=new s["a"];a("4989");s["a"].config.productionTip=!1,n.a.defaults.withCredentials=!0,s["a"].prototype.$http=n.a,s["a"].use(l["a"]);var je=new l["a"]({locale:"zhTW"});s["a"].use(o["a"],{i18n:je,dictionary:{zhTW:c.a}}),new s["a"]({router:Me,store:Ge,i18n:je,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),r=a.n(s);r.a},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.bd5db865.js.map